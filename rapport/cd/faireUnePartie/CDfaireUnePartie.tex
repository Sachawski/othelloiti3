\begin{algorithme}
  \type{EtatPartie}{[TERMINE,ENCOURS]}
\end{algorithme}


\begin{algorithme}
  \signaturefonction{obtenirCoupEnFctDuJoueur}{p : Plateau, joueur : Couleur}{Coup}
	\type{ObtenirCoupEnFctDuJoueur}{obtenirCoupEnFctDuJoueur}
\end{algorithme}

\begin{algorithme}
  \small
  \procedure
  {faireUnePartie}
  {\paramEntree{obtenirCoupBlanc,obtenirCoupJoueurNoir : ObtenirCoupEnFctDuJoueur}, \paramEntree{sortie : afficherPlateau} \paramEntreeSortie{couleurGagnant: Couleur}, \paramEntreeSortie{etat : EtatPartie}}
  {
  plateau: Plateau;
  joueurCourant: Pion;
  prochainCoup: Coup;
  partieEnCours: etat;
  start,end: time_t;
  }
  { 
    \affecter{joueurCourant}{creerPion(BLANC)}
    \affecter{plateau}{initialiserPlateau()}
    \repeter{
      \affecter{start}{time(NULL)}
      \repeter{
        \affecter{prochainCoup}{coupEnFctJoueur(obtenirCoupBlanc, obtenirCoupNoir, obtenirCouleurSuperieure(joueurCourant), plateau)}
      }
      {non(coupLegal(plateau,prochainCoup))}
      jouer(plateau, prochainCoup)\\
      \affecter{end}{time(NULL)}
      \sialors{difftime(start, end)$<$1}
      {
        sleep(1)
      }
      afficherPlateau(plateau,prochainCoup,1)\\
      retournerPion(joueurCourant)\\
      \sialors{plateauBloquePourUneCouleur(plateau,obtenirCouleurSuperieure(joueurCourant))}
      {
        retournerPion(joueurCourant)
        afficherPlateau(plateau,prochainCoup,0)
      }
      etatPartie(plateau, couleurGagnant, etat)
    }{etat=partieEnCours}
  }
\end{algorithme}
